<!DOCTYPE html>
<html lang="en">
<head>
    <title>Microsoft Widget API Sample</title>
    <meta charset="UTF-8"/>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="../js/language.js"></script>
</head>
<body>
    <button id="change">中英文切换</button>
    <br><br>
    <div style="text-align: center" id="content">
        你好
    </div>
</body>
<script type="text/javascript">
    $(document).ready(function(){
        $("#change").click(translate);
    });
    function translate() {
        var value = sessionStorage.getItem("language");
        if (value === "1") {
            sessionStorage.setItem("language", "0"); 
            Microsoft.Translator.Widget.Translate('en', 'zh-CHS', onProgress, onError, onComplete, onRestoreOriginal, 2000);
        } else {
            sessionStorage.setItem("language", "1");
            Microsoft.Translator.Widget.Translate('zh-CHS', 'en', onProgress, onError, onComplete, onRestoreOriginal, 2000);
        }
        window.location.reload(); // 刷新当前页面
    }
</script>
</html>